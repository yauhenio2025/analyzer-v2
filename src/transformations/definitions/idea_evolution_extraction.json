{
  "template_key": "idea_evolution_extraction",
  "template_name": "Idea Evolution Synthesis Extraction",
  "description": "Extracts structured idea evolution data from prose output of the concept_synthesis engine. Produces per-idea evolution timelines, narratives, and cross-work traces for the IdeaEvolutionRenderer.",
  "version": 1,
  "transformation_type": "llm_extract",
  "llm_extraction_schema": {
    "narrative_summary": "string (2-3 paragraphs summarizing the overall intellectual evolution)",
    "key_bifurcations": [
      {
        "description": "string",
        "year": "number",
        "significance": "string"
      }
    ],
    "ideas": [
      {
        "idea_id": "string (snake_case identifier)",
        "idea_name": "string",
        "description": "string (1-2 sentences defining the idea)",
        "form_in_current_work": "enum: central_thesis|supporting_framework|background_assumption|contested_claim|rhetorical_device|methodological_tool",
        "evolution_pattern": "enum: gradual_refinement|radical_transformation|strategic_repurposing|synthesis_of_influences|vocabulary_death_concept_survival|temporal_mutation",
        "evolution_narrative": "string (2-3 paragraphs tracing the idea's development across works)",
        "evolution_timeline": [
          {
            "work_title": "string",
            "year": "number",
            "phase_label": "string (e.g. 'Birth and Technical Elaboration')",
            "form": "enum: constitutive|diagnostic|historical_precondition|background_assumption|absent|retired",
            "key_change": "string (1 sentence describing what changed at this stage)",
            "vocabulary_used": [
              "string (specific terms used for this idea in this work)"
            ]
          }
        ],
        "what_was_gained": "string (what the idea's evolution achieved)",
        "what_was_lost": "string (what was lost or abandoned in the evolution)",
        "transition_drivers": [
          "string (forces driving the idea's evolution)"
        ],
        "traces_in_prior_works": [
          {
            "work_title": "string",
            "relationship": "enum: origin|elaboration|peak_deployment|demotion|absence|retirement",
            "evidence": "string (1-2 sentences of evidence)"
          }
        ]
      }
    ],
    "cross_cutting_patterns": {
      "dominant_evolution_pattern": "string",
      "audience_calibration": "string (how ideas adapt to different audiences)",
      "prescription_diagnosis_gap": "string (if applicable)",
      "overall_trajectory": "string (1-2 sentences characterizing the overall intellectual trajectory)"
    }
  },
  "llm_prompt_template": "You are a precise data extraction assistant. Extract structured JSON from a concept synthesis analysis that traces the evolution of key ideas across multiple works.\n\nReturn a JSON object with this EXACT structure:\n\n{\n  \"narrative_summary\": \"<2-3 paragraphs summarizing the overall intellectual evolution>\",\n  \"key_bifurcations\": [\n    {\n      \"description\": \"<what changed>\",\n      \"year\": <year>,\n      \"significance\": \"<why it matters>\"\n    }\n  ],\n  \"ideas\": [\n    {\n      \"idea_id\": \"<snake_case_id>\",\n      \"idea_name\": \"<display name>\",\n      \"description\": \"<1-2 sentences defining the idea>\",\n      \"form_in_current_work\": \"<one of: central_thesis, supporting_framework, background_assumption, contested_claim, rhetorical_device, methodological_tool>\",\n      \"evolution_pattern\": \"<one of: gradual_refinement, radical_transformation, strategic_repurposing, synthesis_of_influences, vocabulary_death_concept_survival, temporal_mutation>\",\n      \"evolution_narrative\": \"<2-3 paragraphs tracing the idea's journey across works>\",\n      \"evolution_timeline\": [\n        {\n          \"work_title\": \"<title>\",\n          \"year\": <year>,\n          \"phase_label\": \"<short phase name>\",\n          \"form\": \"<one of: constitutive, diagnostic, historical_precondition, background_assumption, absent, retired>\",\n          \"key_change\": \"<1 sentence: what changed at this stage>\",\n          \"vocabulary_used\": [\"<specific terms used>\"]\n        }\n      ],\n      \"what_was_gained\": \"<what the evolution achieved>\",\n      \"what_was_lost\": \"<what was lost or abandoned>\",\n      \"transition_drivers\": [\"<forces driving evolution>\"],\n      \"traces_in_prior_works\": [\n        {\n          \"work_title\": \"<title>\",\n          \"relationship\": \"<one of: origin, elaboration, peak_deployment, demotion, absence, retirement>\",\n          \"evidence\": \"<1-2 sentences>\"\n        }\n      ]\n    }\n  ],\n  \"cross_cutting_patterns\": {\n    \"dominant_evolution_pattern\": \"<the most common pattern across ideas>\",\n    \"audience_calibration\": \"<how ideas adapt to different audiences>\",\n    \"prescription_diagnosis_gap\": \"<any gap between prescriptions and diagnoses>\",\n    \"overall_trajectory\": \"<1-2 sentences characterizing the full arc>\"\n  }\n}\n\nRULES:\n1. Return ONLY JSON \u2014 no markdown fences, no commentary\n2. Extract ALL major ideas discussed (typically 4-8 ideas)\n3. Each idea's evolution_timeline should cover ALL works where it appears (ordered chronologically)\n4. The evolution_narrative should be rich and analytical, not just a summary\n5. Preserve the analytical depth of the original \u2014 include specific terms, quotes, and evidence\n6. key_bifurcations should identify 2-4 major turning points in the intellectual trajectory\n7. The narrative_summary should synthesize across all ideas, not just list them",
  "applicable_renderer_types": [
    "timeline",
    "tab",
    "card_grid",
    "prose"
  ],
  "applicable_engines": [
    "concept_synthesis"
  ],
  "primitive_affinities": [
    "temporal_evolution"
  ],
  "renderer_config_presets": {
    "timeline": {
      "orientation": "vertical",
      "label_field": "phase_label",
      "date_field": "year",
      "description_field": "key_change",
      "group_by": "idea_name",
      "variant": "vertical_evolution"
    }
  },
  "tags": [
    "genealogy",
    "ideas",
    "evolution",
    "extraction",
    "prose-to-structured",
    "temporal"
  ],
  "status": "active",
  "model": "claude-sonnet-4-5-20250929",
  "model_fallback": "claude-sonnet-4-5-20250929",
  "max_tokens": 16000,
  "source": "Created for v2 pipeline \u2014 idea evolution synthesis extraction",
  "domain": "genealogy",
  "pattern_type": "timeline_extraction",
  "data_shape_out": "object_array",
  "compatible_sub_renderers": [
    "timeline_strip",
    "comparison_panel"
  ]
}

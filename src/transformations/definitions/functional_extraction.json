{
  "template_key": "functional_extraction",
  "template_name": "Functional Analysis Extraction",
  "description": "Extracts structured functional analysis from prose output of the concept_taxonomy_argumentative_function engine. Maps how concepts serve argumentative functions with evidence and conditions of possibility.",
  "version": 1,
  "transformation_type": "llm_extract",
  "llm_extraction_schema": {
    "functional_analyses": [
      {
        "idea_id": "string",
        "idea_name": "string",
        "functions_served": [
          {
            "function_type": "string (e.g. foundational_premise, rhetorical_device, analytical_framework, bridging_concept, legitimation_strategy, polemical_weapon)",
            "description": "string",
            "evidence": "string"
          }
        ],
        "conditions_of_possibility": "string",
        "what_would_be_impossible_without": "string",
        "psychological_dimension": "string"
      }
    ],
    "overarching_pattern": "string (2-3 paragraphs)"
  },
  "llm_prompt_template": "You are a precise data extraction assistant. Extract structured JSON from an analytical prose text about how concepts serve argumentative functions.\n\nReturn a JSON object with this EXACT structure:\n\n{\n  \"functional_analyses\": [\n    {\n      \"idea_id\": \"<idea identifier if mentioned>\",\n      \"idea_name\": \"<name of the concept/idea>\",\n      \"functions_served\": [\n        {\n          \"function_type\": \"<e.g.: foundational_premise, rhetorical_device, analytical_framework, bridging_concept, legitimation_strategy, polemical_weapon>\",\n          \"description\": \"<how this concept serves this function>\",\n          \"evidence\": \"<specific evidence from the analysis>\"\n        }\n      ],\n      \"conditions_of_possibility\": \"<what makes this functional deployment possible>\",\n      \"what_would_be_impossible_without\": \"<what arguments break down without this concept>\",\n      \"psychological_dimension\": \"<psychological/intellectual motivation for this deployment>\"\n    }\n  ],\n  \"overarching_pattern\": \"<2-3 paragraphs synthesizing the overall pattern of how concepts are deployed functionally>\"\n}\n\nRULES:\n1. Return ONLY JSON \u2014 no markdown fences, no commentary\n2. Capture ALL concepts discussed in the analysis\n3. Each concept may serve MULTIPLE functions \u2014 capture all of them\n4. The overarching_pattern should be rich analytical prose, not bullet points",
  "applicable_renderer_types": ["accordion", "card_grid"],
  "applicable_engines": ["concept_taxonomy_argumentative_function"],
  "tags": ["genealogy", "functional", "extraction", "prose-to-structured"],
  "status": "active",
  "model": "claude-haiku-4-5-20251001",
  "model_fallback": "claude-sonnet-4-5-20250929",
  "max_tokens": 8000,
  "source": "Extracted from the-critic/analyzer/presentation.py _build_functional_extraction_prompt()"
}

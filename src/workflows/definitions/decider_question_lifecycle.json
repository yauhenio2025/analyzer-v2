{
  "workflow_key": "decider_question_lifecycle",
  "workflow_name": "Decider Question Lifecycle",
  "description": "The core question-answer loop in decider-v2. Coordinates question selection, generation, delivery, and answer processing across dual tracks (IDEAS + PROCESS).",
  "category": "decision_support",
  "version": 1,
  "phases": [
    {
      "phase_number": 1,
      "phase_name": "Coordinator Decision",
      "phase_description": "Strategic coordinator analyzes current state and decides what question to ask next, which vector to target, and what information to seek",
      "base_phase_description": "Strategic coordinator analyzes current state and decides what question to ask next, which vector to target, and what information to seek",
      "function_key": "coordinator_decision",
      "engine_key": null,
      "prompt_template": null,
      "requires_external_docs": false,
      "caches_result": true,
      "depends_on_phases": [],
      "output_schema": {
        "target_vector": "string",
        "question_text": "string",
        "reasoning": "string",
        "confidence_snapshot": "object"
      }
    },
    {
      "phase_number": 2,
      "phase_name": "Question Generation",
      "phase_description": "Generates the actual interview question based on coordinator's decision, including bespoke answer format and context",
      "base_phase_description": "Generate the interview question based on coordinator's decision, including answer format and context",
      "function_key": "question_generation",
      "engine_key": null,
      "prompt_template": null,
      "requires_external_docs": false,
      "caches_result": true,
      "depends_on_phases": [
        1
      ],
      "output_schema": {
        "question_text": "string",
        "answer_format": "object",
        "context_items": "array"
      }
    },
    {
      "phase_number": 3,
      "phase_name": "Quality Check",
      "phase_description": "Validates question quality, checks for redundancy with recent questions, and ensures appropriate difficulty level",
      "base_phase_description": "Validate question quality, check for redundancy with recent questions, and ensure appropriate difficulty level",
      "function_key": "quality_checker",
      "engine_key": null,
      "prompt_template": null,
      "requires_external_docs": false,
      "caches_result": false,
      "depends_on_phases": [
        2
      ],
      "output_schema": {
        "is_valid": "boolean",
        "issues": "array",
        "should_regenerate": "boolean"
      }
    },
    {
      "phase_number": 4,
      "phase_name": "Emergent Synthesis",
      "phase_description": "After answer is received, synthesizes emerging patterns and updates the synthesis state with new insights",
      "base_phase_description": "Synthesize emerging patterns after answer is received and update synthesis state with new insights",
      "function_key": "emergent_synthesis",
      "engine_key": null,
      "prompt_template": null,
      "requires_external_docs": false,
      "caches_result": true,
      "depends_on_phases": [
        3
      ],
      "output_schema": {
        "synthesis_update": "object",
        "emerging_themes": "array",
        "confidence_changes": "object"
      }
    },
    {
      "phase_number": 5,
      "phase_name": "Implication Drawing",
      "phase_description": "Draws implications from recent answers and synthesis state, generating cross-track items",
      "base_phase_description": "Draw implications from recent answers and synthesis state, generating cross-track items",
      "function_key": "implication_drawing",
      "engine_key": null,
      "prompt_template": null,
      "requires_external_docs": false,
      "caches_result": true,
      "depends_on_phases": [
        4
      ],
      "output_schema": {
        "implications": "array",
        "cross_track_items": "array"
      }
    }
  ],
  "required_inputs": [
    "session_context",
    "synthesis_state",
    "recent_questions"
  ],
  "optional_inputs": [
    "user_preferences"
  ],
  "output_description": "A complete question-answer cycle with synthesis updates and implications drawn",
  "estimated_phases": 5,
  "source_project": "decider-v2"
}
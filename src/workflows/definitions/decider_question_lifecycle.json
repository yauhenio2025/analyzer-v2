{
  "workflow_key": "decider_question_lifecycle",
  "workflow_name": "Decider Question Lifecycle",
  "description": "The core question-answer loop in decider-v2. Coordinates question selection, generation, delivery, and answer processing across dual tracks (IDEAS + PROCESS).",
  "category": "decision_support",
  "version": 1,
  "passes": [
    {
      "pass_number": 1,
      "pass_name": "Coordinator Decision",
      "pass_description": "Strategic coordinator analyzes current state and decides what question to ask next, which vector to target, and what information to seek",
      "function_key": "coordinator_decision",
      "engine_key": null,
      "prompt_template": null,
      "requires_external_docs": false,
      "caches_result": true,
      "depends_on_passes": [],
      "output_schema": {
        "target_vector": "string",
        "question_text": "string",
        "reasoning": "string",
        "confidence_snapshot": "object"
      }
    },
    {
      "pass_number": 2,
      "pass_name": "Question Generation",
      "pass_description": "Generates the actual interview question based on coordinator's decision, including bespoke answer format and context",
      "function_key": "question_generation",
      "engine_key": null,
      "prompt_template": null,
      "requires_external_docs": false,
      "caches_result": true,
      "depends_on_passes": [1],
      "output_schema": {
        "question_text": "string",
        "answer_format": "object",
        "context_items": "array"
      }
    },
    {
      "pass_number": 3,
      "pass_name": "Quality Check",
      "pass_description": "Validates question quality, checks for redundancy with recent questions, and ensures appropriate difficulty level",
      "function_key": "quality_checker",
      "engine_key": null,
      "prompt_template": null,
      "requires_external_docs": false,
      "caches_result": false,
      "depends_on_passes": [2],
      "output_schema": {
        "is_valid": "boolean",
        "issues": "array",
        "should_regenerate": "boolean"
      }
    },
    {
      "pass_number": 4,
      "pass_name": "Emergent Synthesis",
      "pass_description": "After answer is received, synthesizes emerging patterns and updates the synthesis state with new insights",
      "function_key": "emergent_synthesis",
      "engine_key": null,
      "prompt_template": null,
      "requires_external_docs": false,
      "caches_result": true,
      "depends_on_passes": [3],
      "output_schema": {
        "synthesis_update": "object",
        "emerging_themes": "array",
        "confidence_changes": "object"
      }
    },
    {
      "pass_number": 5,
      "pass_name": "Implication Drawing",
      "pass_description": "Draws implications from recent answers and synthesis state, generating cross-track items",
      "function_key": "implication_drawing",
      "engine_key": null,
      "prompt_template": null,
      "requires_external_docs": false,
      "caches_result": true,
      "depends_on_passes": [4],
      "output_schema": {
        "implications": "array",
        "cross_track_items": "array"
      }
    }
  ],
  "required_inputs": ["session_context", "synthesis_state", "recent_questions"],
  "optional_inputs": ["user_preferences"],
  "output_description": "A complete question-answer cycle with synthesis updates and implications drawn",
  "estimated_passes": 5,
  "source_project": "decider-v2"
}
